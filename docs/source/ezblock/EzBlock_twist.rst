.. _ezb_twist:

组合动作 
===================

我们已经知道如何让 PiCrawler 摆出一个特定的姿势，下一步就是将这些姿势组合起来形成一个连续的动作。

这个项目中，我们让 PiCrawler 的四只脚上下摆动，随着音乐跳跃。

**程序**

.. note::

  你可以直接打开我们提供的示例或者是按照下图来编写程序，详细教程请参考 :ref:`open_create`。

.. image:: img/twist.png
    :width: 800

.. image:: img/twist2.png
    :width: 800   

程序运行后，PiCrawler 的四只脚上下摆动，随着音乐跳跃。 

**这个如何运作?**

我们用两层循环使坐标数组 ``new_step`` 产生连续有规律的变化，同时用 **执行单步...** 来执行 ``new_step`` 里的姿势从而形成连续的动作。


您可以从 :ref:`ezb_do_leg` 课程中直观的获取每个姿势对应的坐标值数组。

坐标值数组如下图所示：

.. image:: img/sp210928_154257.png

它本质上是一个二维数组，可以被列表类中的积木块处理。它的结构是 ``[[right front],[left front],[left rear],[right rear]]`` ，在这个例子中对应于右前方，左前方，左后方和右后方。

